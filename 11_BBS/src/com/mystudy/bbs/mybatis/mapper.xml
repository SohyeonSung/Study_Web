<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="BBS">

	<!-- 전체 게시글 갯수 조회 -->
	<select id="totalCount" resultType="int">
		SELECT COUNT(*) AS CNT FROM BBS
	</select>
	
	<!-- 페이지에 해당하는 게시글 조회 -->
	<select id="list" parameterType="map" 
			resultType="com.mystudy.bbs.vo.BbsVO">
		SELECT *
		FROM (SELECT ROWNUM RNUM, B.*
		      FROM (SELECT *
		            FROM BBS
		            ORDER BY BBS_IDX DESC
		           ) B 
		     )
		WHERE RNUM BETWEEN #{begin} AND #{end} 	
	</select>
	
	<!-- 까지에 해당하는 데이터만 선택해서 처리(검색데이터 줄이기) 
		CDATA 처리 : 태그가 아닌 단순 문자처리 -->
	<select id="list2" parameterType="map" 
			resultType="com.mystudy.bbs.vo.BbsVO">
	<![CDATA[
		SELECT *
		FROM (SELECT ROWNUM RNUM, B.*
		      FROM (SELECT *
		            FROM BBS
		            ORDER BY BBS_IDX DESC
		           ) B 
		      WHERE ROWNUM <= #{end}
		     )
		WHERE RNUM >= #{begin}	
	]]>
	</select>
	
	<!-- 게시글 1개 조회 -->
	
	<!-- 게시글 수정 -->
	
	<!-- 수정: 게시글 조회수 1 증가 처리 -->
	
	<!-- 게시글 삭제 -->
	
	<!-- ====== 댓글관련(Comments) ========== -->
	<!-- 댓글 목록 조회(게시글에 딸린) -->
	
	<!-- 댓글 1개 조회 -->
	
	<!-- 댓글 입력 -->
	
	<!-- 댓글 수정 -->
	
	<!-- 댓글 삭제 -->
	

</mapper>










